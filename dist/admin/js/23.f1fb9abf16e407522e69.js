webpackJsonp([23],{517:function(e,t,a){a(656);var r=a(201)(a(546),a(630),null,null);e.exports=r.exports},546:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{form:{type:1,code:"",name:"",abbreviation:"",legalRepresentative:"",address:"",registeredCapital:"",lastYearSales:"",proxyLevel:"",explain:"",mainPersonnel:[{}]}}},created:function(){this.$route.query.id&&this.getData()},methods:{initData:function(e){this.form={type:e,code:"",name:"",abbreviation:"",legalRepresentative:"",address:"",registeredCapital:"",lastYearSales:"",proxyLevel:"",explain:"",mainPersonnel:[{}]}},getData:function(){var e=this;this.$axios.post("getAgentById",{id:this.$route.query.id},function(t){1==t.ret&&(e.form=t.data)})},addMainPersonnel:function(){this.form.mainPersonnel.push({})},add:function(){var e=this;console.log(this.form),this.$route.query.id?this.$axios.post("updateAgent",e.form,function(t){1==t.ret&&e.$message.success("修改成功")}):this.$axios.post("addAgent",e.form,function(t){1==t.ret&&(e.initData(e.form.type),e.$message.success("添加成功"))})}}}},599:function(e,t,a){t=e.exports=a(65)(),t.push([e.i,".section-header{height:40px;line-height:40px;border-top:6px solid #e8e8e8;color:#999;font-size:14px}.mainForm .mainPerson input{width:400px}.mainForm input{width:600px}",""])},630:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-row",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v(" 代理商管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("代理商池")]),e._v(" "),a("el-breadcrumb-item",[e._v(e._s(e.$route.query.id?"修改代理商":"新增代理商"))])],1)],1)],1),e._v(" "),a("div",{staticClass:"crumbs"},[a("el-form",{ref:"form",staticClass:"mainForm",attrs:{model:e.form,"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"代理商类型"}},[a("el-radio-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("代理商")]),e._v(" "),a("el-radio-button",{attrs:{label:"2"}},[e._v("代理人")])],1)],1),e._v(" "),a("div",{staticClass:"section-header"},[e._v("基本信息")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.form.type,expression:"form.type == 1"}],staticClass:"baseInfo"},[a("el-form-item",{attrs:{label:"代理商编码"}},[a("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代理商名称"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代理商简称"}},[a("el-input",{model:{value:e.form.abbreviation,callback:function(t){e.$set(e.form,"abbreviation",t)},expression:"form.abbreviation"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"法定代表人"}},[a("el-input",{model:{value:e.form.legalRepresentative,callback:function(t){e.$set(e.form,"legalRepresentative",t)},expression:"form.legalRepresentative"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"注册资金/万"}},[a("el-input",{model:{value:e.form.registeredCapital,callback:function(t){e.$set(e.form,"registeredCapital",t)},expression:"form.registeredCapital"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"去年贡献收入/万"}},[a("el-input",{model:{value:e.form.lastYearSales,callback:function(t){e.$set(e.form,"lastYearSales",t)},expression:"form.lastYearSales"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代理级别"}},[a("el-input",{model:{value:e.form.proxyLevel,callback:function(t){e.$set(e.form,"proxyLevel",t)},expression:"form.proxyLevel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"其他情况说明"}},[a("el-input",{model:{value:e.form.explain,callback:function(t){e.$set(e.form,"explain",t)},expression:"form.explain"}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.form.type,expression:"form.type == 2"}],staticClass:"baseInfo"},[a("el-form-item",{attrs:{label:"代理商编码"}},[a("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代理商名称"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"其他情况说明"}},[a("el-input",{model:{value:e.form.explain,callback:function(t){e.$set(e.form,"explain",t)},expression:"form.explain"}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.form.type,expression:"form.type == 1"}]},[a("div",{staticClass:"section-header"},[e._v("主要人员")]),e._v(" "),e._l(e.form.mainPersonnel,function(t,r){return a("div",{staticClass:"mainPerson",staticStyle:{"border-bottom":"1px dashed #e8e8e8","margin-bottom":"20px"}},[a("el-form-item",{attrs:{label:"职务"}},[a("el-input",{model:{value:t.duties,callback:function(a){e.$set(t,"duties",a)},expression:"item.duties"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话"}},[a("el-input",{model:{value:t.phone,callback:function(a){e.$set(t,"phone",a)},expression:"item.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:t.remarks,callback:function(a){e.$set(t,"remarks",a)},expression:"item.remarks"}})],1)],1)}),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:e.addMainPersonnel}},[e._v("新增主要人员")])],1)],2),e._v(" "),a("div",{staticClass:"section-header"}),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"success",size:"large"},on:{click:e.add}},[e._v("提交")])],1)],1)],1)])},staticRenderFns:[]}},656:function(e,t,a){var r=a(599);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(137)("57042f5b",r,!0)}});