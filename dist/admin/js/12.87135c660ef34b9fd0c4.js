webpackJsonp([12],{527:function(e,t,a){a(639);var l=a(200)(a(555),a(614),null,null);e.exports=l.exports},555:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(201);t.default={data:function(){return{tableData:[],count:0,pageSize:15,addDialogVisible:!1,loading:!0,form:{}}},created:function(){this.getData()},methods:{downloadTemplate:function(){location.href=l.a.url("exportRecordCustomer")},edit:function(e,t){this.addDialogVisible=!0,this.form=t},handleCurrentChange:function(e){this.pn=e,this.getData()},getData:function(){var e=this;this.loading=!0,this.$axios.post("getSaleRecordList",{pn:this.pn},function(t){1==t.ret&&(e.tableData=t.data.list,e.count=t.data.count,e.loading=!1)})},getTime:function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()},add:function(){var e=this;e.form.time=e.getTime(e.form.time),this.$axios.post("updateSaleRecordList",e.form,function(t){1==t.ret&&(e.getData(),e.$message.success("修改成功"),e.addDialogVisible=!1)})}}}},584:function(e,t,a){t=e.exports=a(64)(),t.push([e.i,".el-popover{max-width:80%}",""])},614:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-row",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v(" 沟通记录")])],1),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"success"},on:{click:e.downloadTemplate}},[e._v("导出沟通记录")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"title",label:"标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"bottom"}},[a("p",[e._v(e._s(t.row.title))]),e._v(" "),a("div",{staticClass:"name-wrapper",staticStyle:{overflow:"hidden","text-overflow":"ellipsis"},attrs:{slot:"reference"},slot:"reference"},[e._v("\n                        "+e._s(t.row.title)+"\n                    ")])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"cName",label:"客户名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"bottom"}},[a("p",[e._v(e._s(t.row.cName))]),e._v(" "),a("div",{staticClass:"name-wrapper",staticStyle:{overflow:"hidden","text-overflow":"ellipsis"},attrs:{slot:"reference"},slot:"reference"},[e._v("\n                        "+e._s(t.row.cName)+"\n                    ")])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"销售人员"}}),e._v(" "),a("el-table-column",{attrs:{prop:"customerName",label:"沟通对象"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"bottom"}},[a("p",[e._v(e._s(t.row.remark))]),e._v(" "),a("div",{staticClass:"name-wrapper",staticStyle:{overflow:"hidden","text-overflow":"ellipsis"},attrs:{slot:"reference"},slot:"reference"},[e._v("\n                        "+e._s(t.row.remark)+"\n                    ")])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(a){e.edit(t.$index,t.row)}}},[e._v("修改")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:e.count,"page-size":e.pageSize},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"修改沟通记录"},model:{value:e.addDialogVisible,callback:function(t){e.addDialogVisible=t},expression:"addDialogVisible"}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"销售人员"}},[a("el-input",{attrs:{placeholder:"请输入销售人员"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"沟通对象"}},[a("el-input",{attrs:{placeholder:"请输入沟通对象"},model:{value:e.form.customerName,callback:function(t){e.$set(e.form,"customerName",t)},expression:"form.customerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择时间"},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"内容"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},639:function(e,t,a){var l=a(584);"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a(136)("5f8a8eb8",l,!0)}});