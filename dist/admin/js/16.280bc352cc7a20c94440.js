webpackJsonp([16],{526:function(e,t,a){a(635);var l=a(201)(a(556),a(607),null,null);e.exports=l.exports},556:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(202);t.default={data:function(){return{dialogTableVisible:!1,recordListData:[],recordCount:0,recordPn:1,addDialogVisible:!1,tableData:[],loading:!0,keyword:"",type:1,cur_page:1,count:0,pageSize:15,applyList:[],curApplyData:{},curApplyIndex:0,selection:[]}},watch:{type:function(e){this.tableData=[],this.getData()}},created:function(){this.getData()},methods:{downloadTemplate:function(){location.href=l.a.url("exportRecordCustomer")},handleCurrentChange:function(e){this.cur_page=e,this.getData()},handleCurChange:function(){this.recordPn=val,this.look()},getData:function(){var e=this;this.loading=!0,this.$axios.post("getCustomer",{type:this.type,pn:this.cur_page,name:this.keyword,model:3},function(t){1==t.ret&&(e.tableData=t.data.list,e.count=t.data.count,e.loading=!1)})},look:function(e,t){var a=this;this.$axios.post("getRecordCustomer",{pn:this.recordPn,id:t.id},function(e){1==e.ret&&(a.dialogTableVisible=!0,a.recordListData=e.data.list,a.recordCount=e.data.count)})}}}},576:function(e,t,a){t=e.exports=a(65)(),t.push([e.i,".customer .crumbs .el-form-item{margin-bottom:0}.customer .crumbs .el-upload{height:auto;width:auto;border:none}",""])},607:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table customer"},[a("div",{staticClass:"crumbs"},[a("el-row",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v(" 客户管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("已跟进客户")])],1)],1)],1),e._v(" "),a("div",{staticClass:"crumbs"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"inline",attrs:{placeholder:"请输入客户名称搜索",icon:"search","on-icon-click":e.getData},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.getData(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),e._v(" "),a("el-radio-group",{model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("终端")]),e._v(" "),a("el-radio-button",{attrs:{label:"2"}},[e._v("厂家")]),e._v(" "),a("el-radio-button",{attrs:{label:"3"}},[e._v("代理商")]),e._v(" "),a("el-radio-button",{attrs:{label:"4"}},[e._v("代理人")])],1),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"success"},on:{click:e.downloadTemplate}},[e._v("导出沟通记录")])],1)],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:1==e.type,expression:"type == 1"},{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"客户名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1==t.row.type?"primary":"success","close-transition":""}},[e._v(e._s(1==t.row.type?"终端":"厂家"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"stage",label:"客户阶段"}}),e._v(" "),a("el-table-column",{attrs:{prop:"explain",label:"其他情况说明"}}),e._v(" "),a("el-table-column",{attrs:{prop:"belongUserName",label:"跟进销售人员"}}),e._v(" "),a("el-table-column",{attrs:{label:"销售沟通记录"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"info"},on:{click:function(a){e.look(t.$index,t.row)}}},[e._v("查看")])]}}])})],1),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:2==e.type,expression:"type == 2"},{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"客户名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1==t.row.type?"primary":"success","close-transition":""}},[e._v(e._s(1==t.row.type?"终端":"厂家"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"explain",label:"其他情况说明"}}),e._v(" "),a("el-table-column",{attrs:{prop:"belongUserName",label:"跟进销售人员"}}),e._v(" "),a("el-table-column",{attrs:{label:"销售沟通记录"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"info"},on:{click:function(a){e.look(t.$index,t.row)}}},[e._v("查看")])]}}])})],1),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:3==e.type,expression:"type == 3"},{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"客户名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:3==t.row.type?"primary":"success","close-transition":""}},[e._v(e._s(3==t.row.type?"代理商":"代理人"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"explain",label:"其他情况说明"}}),e._v(" "),a("el-table-column",{attrs:{prop:"belongUserName",label:"跟进销售人员"}}),e._v(" "),a("el-table-column",{attrs:{label:"销售沟通记录"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"info"},on:{click:function(a){e.look(t.$index,t.row)}}},[e._v("查看")])]}}])})],1),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:4==e.type,expression:"type == 4"},{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"客户名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:3==t.row.type?"primary":"success","close-transition":""}},[e._v(e._s(3==t.row.type?"代理商":"代理人"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"explain",label:"其他情况说明"}}),e._v(" "),a("el-table-column",{attrs:{prop:"belongUserName",label:"跟进销售人员"}}),e._v(" "),a("el-table-column",{attrs:{label:"销售沟通记录"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"info"},on:{click:function(a){e.look(t.$index,t.row)}}},[e._v("查看")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:e.count,"page-size":e.pageSize},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"沟通记录",size:"large",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-table",{attrs:{data:e.recordListData,border:""}},[a("el-table-column",{attrs:{property:"userName",label:"销售人员"}}),e._v(" "),a("el-table-column",{attrs:{property:"customerName",label:"沟通对象"}}),e._v(" "),a("el-table-column",{attrs:{property:"title",label:"是否可见"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1==t.row.type?"primary":"success","close-transition":""}},[e._v(e._s(1==t.row.status?"自己可见":"所有人可见"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"title",label:"标题",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{property:"time",label:"时间",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{property:"remark",label:"内容"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:e.recordCount,"page-size":e.pageSize},on:{"current-change":e.handleCurChange}})],1)],1)],1)},staticRenderFns:[]}},635:function(e,t,a){var l=a(576);"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a(137)("ad25d6a0",l,!0)}});